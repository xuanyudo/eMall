<div class="container">
    <div *ngIf="msg"><h4 class="mt-3 border rounded p-2" [ngClass]="{'alert-danger':msg.type=='error','alert-success':msg.type=='success'}">{{msg.msg}}</h4></div>
</div>
<div class="container my-4">

    <div class="row">
        <div class="col-md-3"></div>
        <div class="col-md-5">
            <h1 class="page-title">Update Product</h1>
            <form #addProductForm="ngForm">
                <div class="form-group">
                    <label for="pname">Product Name</label>
                    <input type="text" class="form-control" [(ngModel)]="formData.pname" name="pname" #pname="ngModel"
                        required>
                </div>
                <div *ngIf="pname.invalid && (pname.dirty || pname.touched)" class="alert alert-danger">
                    <div *ngIf="pname.errors.required">
                        Product Name is required
                    </div>
                </div>
                <div class="form-group">
                    <label for="pname">Product Price</label>
                    <input type="number" class="form-control" [(ngModel)]="formData.price" name="price" #price="ngModel"
                        required>
                </div>
                <div *ngIf="price.invalid && (price.dirty || price.touched)" class="alert alert-danger">
                    <div *ngIf="price.errors.required">
                        Price is required
                    </div>
                </div>
                <div class="form-group">
                    <label for="brand">Product Brand</label>
                    <select class="form-control" [(ngModel)]="formData.brand" name="brand" #brand="ngModel" required>
                        <option *ngFor="let brand of brands" [value]="brand.bname">{{brand.bname}}</option>
                    </select>
                </div>
                <div *ngIf="brand.invalid && (brand.dirty || brand.touched)" class="alert alert-danger">
                    <div *ngIf="brand.errors.required">
                        Brand is required
                    </div>
                </div>

                <div class="form-group">
                    <label for="imageUrl">Image Link</label>
                    <input type="text" class="form-control" [(ngModel)]="formData.imageUrl" name="imageUrl" #imageUrl="ngModel" required>
                
                </div>
                <div *ngIf="imageUrl.invalid && (imageUrl.dirty || imageUrl.touched)" class="alert alert-danger">
                    <div *ngIf="imageUrl.errors.required">
                        Image Link is required
                    </div>
                </div>

                <div class="form-group">
                    <label for="description">Product Description</label>
                    <textarea class="form-control" [(ngModel)]="formData.description" name="description" #description="ngModel" required>
                        </textarea>
                </div>
                <div *ngIf="description.invalid && (description.dirty || description.touched)" class="alert alert-danger">
                    <div *ngIf="description.errors.required">
                        Product description is required
                    </div>
                </div>

                <div class="form-group">
                    <button (click)="updateProduct()" type="submit" class="btn btn-warning"
                    [disabled]="!addProductForm.form.valid">Update Product</button>
                </div>
                
            </form>
        </div>
        
    </div>
</div>